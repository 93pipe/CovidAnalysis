# %%
import os
import pandas as pd
from pandas.api.types import CategoricalDtype
import matplotlib as mp
import matplotlib.pyplot as plt
import numpy as np  # matematicas
import seaborn as sns  # regresiones
from scipy import stats  # stadisticas
from sklearn import linear_model
import sklearn
from sklearn.model_selection import train_test_split
from sklearn.linear_model import LogisticRegression
from sklearn.metrics import classification_report
from sklearn import metrics
from sklearn.metrics import confusion_matrix
from scipy import stats
import statsmodels.api as sm

url = "./public_dataset_original.csv"
df = pd.read_csv(url, header=0)
path = "./public_dataset_2.csv"

df.to_csv(path)

# %%
# Boxplot por país en relacion a la exposición al covid
X = df['country']
Y = df['exposure']
plt.cla()
sns.boxplot(x=Y, y=X, data=df, orient="h", palette="Pastel1")
plt.title("Boxplot exposure region")
plt.show()
# %%
# Boxplot por país en relacion creencia de morir
X = df['country']
Y = df['Covid Mortality']
plt.cla()
sns.boxplot(x=Y, y=X, data=df, orient="h", palette="Pastel1")
plt.title("Mortality aware by country")
plt.xlabel("Mortality awarness (%)")
plt.show()

# %%

X = df['Industry']
Y = df['exposure']
plt.cla()
sns.boxplot(x=Y, y=X, data=df, orient="h", palette="Pastel1")
plt.title("Covid Exposure by Industry")
plt.xlabel("Exposure covid (%)")
plt.show()

# %%
X = df['Industry']
Y = df['Are_you_infected']
plt.cla()
sns.boxplot(x=Y, y=X, data=df, orient="h", palette="Pastel1")
plt.title("Belief of being infected by indsutry")
plt.xlabel("Belief of being infected (%)")
plt.show()
# %%
X = df['country']
Y = df['Are_you_infected']
plt.cla()
sns.boxplot(x=Y, y=X, data=df, orient="h",palette="Pastel1")
plt.title("Belief of being infected by country")
plt.xlabel("Belief of being infected (%)")
plt.show()
# %%
# X=
Y = df[['Are_you_infected', "Infected_yourarea", "Infected_no_Symp", 'Infected_no_hosp', 'Infected_hosp',
        "Covid Mortality"]]
plt.cla()
sns.boxplot(data=Y, orient="h", palette="Pastel1", labels=[["hola", "s", "s", "s", "s", "s"]])
plt.xlim(0, 100)
plt.title("People awarness")
plt.xlabel("Percentage of awarness (%)")
plt.show()
# %%
X = df["smoker"]
Y = df["Are_you_infected"]
plt.cla()
sns.boxplot(x=Y, y=X, data=df, orient="h", palette="Pastel1")
plt.title("Belief of being infected if smoke")
plt.xlabel("Belief of being infected (%)")
plt.show()

# %%
